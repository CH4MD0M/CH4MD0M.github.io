---
title: '[μ•κ³ λ¦¬μ¦] JavaScriptλ΅ κµ¬ν„ν•λ” DFS'
category: algorithm
date: 2022-03-29
tags:
  - κ·Έλν”„
  - dfs
---

<br />

dfsμ— λ€ν•΄ μ•μ•„λ³΄κΈ° μ „μ— μ°μ„  κ·Έλν”„μ— λ€ν• μ΄ν•΄κ°€ ν•„μ”ν•λ‹¤. κ·Έλν”„μ— λ€ν• μ„¤λ…μ€ [μ—¬κΈ°](https://chamdom.blog/graph/)μ— μμ„Έν μ •λ¦¬ν•΄λ‘μ—λ‹¤.

# DFSλ€?

**DFS(Depth-First-Search)**λ” **κΉμ΄ μ°μ„  νƒμƒ‰**μ΄λΌκ³  ν•λ©° κ·Έλν”„μ—μ„ κΉμ€ λ¶€λ¶„μ„ μ°μ„ μΌλ΅ νƒμƒ‰ν•λ” μ•κ³ λ¦¬μ¦μ΄λ‹¤. DFSλ” νΈλ¦¬μ—μ„ μƒκ°ν•λ©΄ μ΄ν•΄ν•κΈ° μ‰½λ‹¤(νΈλ¦¬λ„ κ·Έλν”„μ μΌμΆ…μ΄λ‹¤). νΈλ¦¬λ¥Ό νƒμƒ‰ν•  λ• μ‹μ‘ λ…Έλ“μ—μ„ ν• λ°©ν–¥μΌλ΅ κ³„μ† νƒμƒ‰ν•λ‹¤κ°€ λ” μ΄μƒ κ° μ μ—†μ„ λ• λ‹¤μ‹ κ°€μ¥ κ°€κΉμ΄ λ…Έλ“λ΅ λλμ•„μ™€ λ‹¤μ‹ νƒμƒ‰μ„ μ§„ν–‰ν•λ” λ°©λ²•κ³Ό μ μ‚¬ν•λ‹¤.

DFSλ¥Ό κµ¬ν„ν•λ” λ°λ” 2κ°€μ§€μ λ°©λ²•μ΄ μλ‹¤. μ²« λ²μ§Έλ” μ¬κ·€λ¥Ό μ΄μ©ν•λ” κ²ƒμ΄κ³  λ‘ λ²μ§Έλ” μ¤νƒ(λ°λ³µλ¬Έ)μ„ μ΄μ©ν•λ” κ²ƒμ΄λ‹¤.

# μ¬κ·€λ¥Ό μ΄μ©ν• DFS(Recursive DFS)

## λ™μ‘ λ°©μ‹

1. λ°©λ¬Έ μ—¬λ¶€λ¥Ό κΈ°λ΅ν•κΈ° μ„ν•΄ λ°°μ—΄ visitedλ¥Ό μ‚¬μ©ν•λ©°, λ°°μ—΄ visitedμ κ°’μ„ `false`λ΅ μ΄κΈ°ν™”ν•λ‹¤.
2. λ…Έλ“λ¥Ό λ°©λ¬Έν•  λ•λ§λ‹¤ ν•΄λ‹Ή λ…Έλ“μ visited λ°°μ—΄ κ°’μ„ `true`λ΅ λ³€κ²½ν•λ‹¤.
3. ν•΄λ‹Ή λ…Έλ“(`v`)μ™€ μ—°κ²°λ λ…Έλ“ μ¤‘μ— λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“(`node`)μ΄ μλ‹¤λ©΄ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“(`node`)λ¥Ό μ‹μ‘μ μΌλ΅ ν•μ—¬ DFSλ¥Ό λ‹¤μ‹ μ‹μ‘ν•λ‹¤.

## μ½”λ“ κµ¬ν„

![dfsκ·Έλν”„](./image/dfs_bfs.png)

```js
function dfs(graph, v, visited) {
  // ν„μ¬ λ…Έλ“λ¥Ό λ°©λ¬Έ μ²λ¦¬
  visited[v] = true;
  console.log(v);

  // ν„μ¬ λ…Έλ“μ™€ μ—°κ²°λ λ‹¤λ¥Έ λ…Έλ“λ¥Ό μ¬κ·€μ μΌλ΅ λ°©λ¬Έ
  for (let node of graph[v]) {
    if (!visited[node]) {
      dfs(graph, node, visited);
    }
  }
}

const graph = [[1, 2, 4], [0, 5], [0, 5], [4], [0, 3], [1, 2]];
const visited = Array(7).fill(false);

dfs(graph, 0, visited);
// 0 1 5 2 4 3
```

# μ¤νƒμ„ μ΄μ©ν• DFS(Iterative DFS)

## λ™μ‘ λ°©μ‹

1. μ¤νƒμ— μ‹μ‘ λ…Έλ“λ¥Ό push ν•λ‹¤.
2. μ¤νƒμ—μ„ λ…Έλ“λ¥Ό popν•κ³  ν•΄λ‹Ή λ…Έλ“(`v`)κ°€ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“λΌλ©΄ λ°©λ¬Έμ²λ¦¬ ν•λ‹¤.
3. λ…Έλ“(`v`)μ™€ μ—°κ²°λ λ…Έλ“ μ¤‘μ—μ„ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“(`node`)μ΄ μλ‹¤λ©΄ stackμ— push ν•λ‹¤.
4. μ¤νƒμ κΈΈμ΄κ°€ 0μ΄ λ  λ•κΉμ§€ `2`, `3`λ² κ³Όμ •μ„ λ°λ³µν•λ‹¤.

κ·Έλ¦Όμ„ ν†µν•΄ λ¨Όμ € κµ¬ν„κ³Όμ •μ„ λ³΄μ. μ•„λ κ·Έλν”„λ¥Ό DFSλ΅ νƒμƒ‰ν•  κ²ƒμ΄λ‹¤. μΈμ ‘ν• λ…Έλ“ μ¤‘μ—μ„ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“κ°€ μ—¬λ¬ κ° μμΌλ©΄ μ«μκ°€ ν° λ…Έλ“λ¶€ν„° νƒμƒ‰(μ¤νƒμΌλ΅ κµ¬ν„ν•κΈ° λ•λ¬Έμ—)ν•λ‹¤κ³  κ°€μ •ν•λ‹¤.

![dfsκ·Έλν”„](./image/dfs_bfs.png)

1. μ‹μ‘ λ…Έλ“μΈ `0`μ„ μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs-step1](./image/dfs-step1.png)

<br />

2. μ¤νƒμ—μ„ `0`μ„ μ κ±°ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤. `0` λ…Έλ“μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ `1`, `2`, `4`λ¥Ό μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs-step2](./image/dfs-step2.png)

<br />

3. μ¤νƒμ μ μΌ μƒμ„μ— μλ” `4`λ¥Ό μ κ±°ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤. `4` λ…Έλ“μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ `3`μ„ μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs-step3](./image/dfs-step3.png)

<br />

4. μ¤νƒμ—μ„ `3`μ„ μ κ±°ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤. λ…Έλ“ `3`μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“λ” μ—†μΌλ―€λ΅ λ¬΄μ‹λλ‹¤.

![dfs-step4](./image/dfs-step4.png)

<br />

5. μ¤νƒμ—μ„ `2`λ¥Ό μ κ±°ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤. λ…Έλ“ `2`μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ `5`λ¥Ό μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs-step5](./image/dfs-step5.png)

<br />

6. μ¤νƒμ—μ„ `5`λ¥Ό μ κ±°ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤. λ…Έλ“ `5`μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ `1`μ„ μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs-step6](./image/dfs-step6.png)

<br />

7. μ¤νƒμ—μ„ `1`μ„ μ κ±°ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤. λ…Έλ“ `1`μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“λ” μ—†μΌλ―€λ΅ λ¬΄μ‹λλ‹¤.

![dfs-step7](./image/dfs-step7.png)

<br />

8. μ¤νƒμ—μ„ `1`μ„ μ κ±°ν•λ‹¤. λ…Έλ“ `1`μ€ μ΄λ―Έ λ°©λ¬Έν• λ…Έλ“μ΄λ―€λ΅ λ¬΄μ‹λλ‹¤.

![dfs-step8](./image/dfs-step8.png)

<br />

κ²°κ³Όμ μΌλ΅ κ·Έλν”„μ νƒμƒ‰ μμ„λ” λ‹¤μκ³Ό κ°™λ‹¤. <br/>
`0` β†’ `4` β†’ `3` β†’ `2` β†’ `5` β†’ `1`

## μ½”λ“ κµ¬ν„

```js
function dfs(graph, start, visited) {
  const stack = [];
  stack.push(start);

  while (stack.length) {
    let v = stack.pop();
    if (!visited[v]) {
      console.log(v);
      visited[v] = true;

      for (let node of graph[v]) {
        if (!visited[node]) {
          stack.push(node);
        }
      }
    }
  }
}
const graph = [[1, 2, 4], [0, 5], [0, 5], [4], [0, 3], [1, 2]];
const visited = Array(7).fill(false);

dfs(graph, 0, visited);
// 0 4 3 2 5 1
```

μ¶λ ¥λ κ²°κ³Όλ¥Ό λ³΄λ©΄ Recursive DFSλ” `μ‚¬μ „μ‹ μμ„`λ΅ λ°©λ¬Έν• λ° λ°ν•΄ μ™€ Iterative DFSλ” μ—­μμΌλ΅ λ°©λ¬Έν• κ²ƒμ„ μ• μ μλ‹¤. μ΄λ” Iterative DFSκ°€ μ¤νƒμΌλ΅ κµ¬ν„ν•λ‹¤ λ³΄λ‹ κ°€μ¥ λ§μ§€λ§‰μ— μ‚½μ…λ λ…Έλ“λ¶€ν„° κΊΌλ‚΄μ„ λ°λ³µν•κ² λκ³  μΈμ ‘ λ…Έλ“λ¥Ό ν•κΊΌλ²μ— μ¶”κ°€ν•κΈ° λ•λ¬Έμ— κ°€μ¥ λ§μ§€λ§‰μ— μ¤νƒμ— λ‹΄κΈ΄ λ…Έλ“λ¶€ν„° λ°©λ¬Έν•κΈ° λ•λ¬Έμ΄λ‹¤. λ‘ κ²½μ° λ¨λ‘ DFS μ•κ³ λ¦¬μ¦μ— λ”°λΌ μ •μƒμ μΌλ΅ λ¨λ“  λ…Έλ“μ λ°©λ¬Έμ„ λ§μ³¤κΈ° λ•λ¬Έμ— μλ»λ κ²°κ³Όκ°€ μ•„λ‹λ‹¤.

> DFSμ κΈ°λ¥μ„ μƒκ°ν•λ©΄ μμ„μ™€ μƒκ΄€μ—†μ΄ μ²λ¦¬ν•΄λ„ λμ§€λ§, μ½”λ”© ν…μ¤νΈμ—μ„λ” λ²νΈκ°€ λ‚®μ€ μμ„λ¶€ν„° μ²λ¦¬ν•λ„λ΅ λ…μ‹ν•λ” κ²½μ°κ°€ μΆ…μΆ… μλ‹¤. λ”°λΌμ„ κ΄€ν–‰μ μΌλ΅ λ²νΈκ°€ λ‚®μ€ μμ„λ¶€ν„° μ²λ¦¬ν•λ„λ΅ κµ¬ν„ν•λ” νΈμ΄λ‹¤.

## μ¤νƒμ„ μ‚¬μ©ν• DFSμ λ¬Έμ μ 

νμ΄μ¬μ€ `sys.setrecursionlimit`μ„ μ‚¬μ©ν•μ—¬ μ¬κ·€μ μµλ€ κΉμ΄λ¥Ό μ„¤μ •ν•  μ μμ–΄μ„ μ¬κ·€λ¥Ό μ‚¬μ©ν• DFS(μ΄ν• Recursive DFS)λ΅ λ¬Έμ λ¥Ό ν’€λ”λΌλ„ λ€λ¶€λ¶„ ν•΄κ²°λλ‹¤. ν•μ§€λ§ μλ°”μ¤ν¬λ¦½νΈλ” κ·Έλ°κ±° μ—†λ‹¤.π¥² λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄μ„λ” μ¤νƒμ„ μ΄μ©ν• DFS(μ΄ν• Iterative DFS)λ¥Ό μ΄μ©ν•΄μ•Ό ν•λ‹¤.

κ·Έλ°λ° Iterative DFSλ¥Ό μ‚¬μ©ν•  λ• Recursive DFSμ™€ κ°™μ΄ λ™μ‘ν•μ§€ μ•λ” λ¶€λ¶„μ΄ μλ‹¤. κ·Έκ²ƒμ€ λ°”λ΅ `λ¶€λ¨ λ…Έλ“λ΅ λλμ•„κ°€λ” λ΅μ§`μ΄λ‹¤.

<br/>

**κ·Έκ²λ­”λ° 10λ•μ•„..**

λ³΄ν†µ DFSλ¥Ό μ΄μ©ν•΄μ•Ό ν•λ” μ•κ³ λ¦¬μ¦ λ¬Έμ λ¥Ό ν’€λ‹¤λ³΄λ©΄ λ‹¨μν νƒμƒ‰ ν•λ©΄μ„ **λ¦¬ν”„ λ…Έλ“λ¶€ν„° λ¶€λ¨ λ…Έλ“λ΅ μ—°μ‚°μ„ μν–‰(κ°’μ„ μ „λ‹¬)**κ°€ μλ‹¤. Recursive DFSλ” ν•¨μμ νΈμ¶ μ¤νƒμ΄ μ“μ΄λ‹¤κ°€ λ¦¬ν”„ λ…Έλ“μ— λ„λ‹¬ν•λ©΄ μ—°μ‚°μ„ μν–‰ν•κ³  ν•¨μ νΈμ¶ μ¤νƒμ΄ ν•λ‚μ”© μ‚¬λΌμ§€λ©΄μ„ λ¶€λ¨ λ…Έλ“λ΅ λμ•„κ°€λ” λ΅μ§μ΄ μμ—°μ¤λ½κ² μν–‰λλ‹¤.

```js
function dfs(graph, v, visited) {
  visited[v] = true;
  console.log(v);

  for (let node of graph[v]) {
    if (!visited[node]) {
      dfs(graph, node, visited);
    }
  }
  // μ—¬κΈ°κ°€ λ¦¬ν”„ λ…Έλ“μ—μ„ λ¶€λ¨ λ…Έλ“λ΅ μ—°μ‚°μ„ μν–‰ν•λ” λ¶€λ¶„μ΄λ‹¤.
}
```

μ½”λ“λ¥Ό λ³΄λ©΄ λ…Έλ“ `v`μ λ¨λ“  μΈμ ‘ λ…Έλ“μ— λ€ν• μ¬κ·€ νΈμ¶μ΄ μΆ…λ£λ ν›„(μ¦‰, `for` λ¬Έμ΄ μ™„μ „ν μΆ…λ£λ ν›„)μ—λ” λ…Έλ“ `v`μ™€ κ·Έ ν•μ„μ λ¨λ“  λ…Έλ“λ“¤μ— λ€ν• νƒμƒ‰μ΄ μ™„λ£λ μƒνƒλ‹¤. κ·ΈλΌ λ…Έλ“ `v`λ” μ–΄λ–¤ λ…Έλ“μΌκΉ? λ°”λ΅ μ΄μ „μ— dfs ν•¨μλ¥Ό νΈμ¶ν–λ λ…Έλ“μ μΈμ ‘ λ…Έλ“ μ¤‘ ν•λ‚λ‹¤. μ΄μ „μ— dfs ν•¨μλ¥Ό νΈμ¶ν–λ λ…Έλ“λ¥Ό "λ¶€λ¨ λ…Έλ“"λΌκ³  λ³Ό μ μμΌλ―€λ΅, μ΄ μ‹μ μ—μ„ λ…Έλ“ `v`λ” λ¦¬ν”„ λ…Έλ“λ¶€ν„° μ‹μ‘ν•μ—¬ ν•΄λ‹Ή λ¶€λ¨ λ…Έλ“κΉμ§€μ μ—°μ‚°μ„ μν–‰ν•  μ μλ” μ‹μ μ΄ λλ‹¤.

λ”°λΌμ„, `for` λ¬Έ μ΄ν›„μ μ½”λ“λ” λ¦¬ν”„ λ…Έλ“λ¶€ν„° μ‹μ‘ν•μ—¬ ν•΄λ‹Ή λ¶€λ¨ λ…Έλ“κΉμ§€μ μ—°μ‚°μ„ μν–‰ν•λ” λ¶€λ¶„μ΄λ‹¤.

μ΄ λ¶€λ¶„(λ¶€λ¨ λ…Έλ“λ΅ λμ•„κ°€λ” λ΅μ§)μ΄ Iterative DFSμ—λ” μ΅΄μ¬ν•μ§€ μ•λ”λ‹¤. **μ¤νƒμ μƒλ‹¨μ— μλ” λ…Έλ“(μ¦‰, κ°€μ¥ μµκ·Όμ— μ¶”κ°€λ λ…Έλ“)λ¥Ό κ³„μ† νƒμƒ‰ν•κΈ° λ•λ¬Έμ—** ν„μ¬ λ…Έλ“μ λ¶€λ¨ λ…Έλ“λ΅ λμ•„κ°€λ” λ΅μ§μ΄ μ—†λ‹¤. λ”°λΌμ„ Iterative DFSκ°€ Recursive DFSμ™€ κ°™μ΄ λ™μ‘ν•λ„λ΅ ν•λ ¤λ©΄ λ¶€λ¨ λ…Έλ“λ΅ λμ•„κ°€λ” λ΅μ§μ„ μ¶”κ°€ν•΄μ¤μ•Ό ν•λ‹¤.

# κ°μ„ λ Iterative DFS

Recursive DFSμ™€ κ°™μ΄ λ™μ‘ν•λ„λ΅ Iterative DFS μ½”λ“λ¥Ό κ°μ„ ν•΄λ³΄μ. μ§κ΄€μ μΌλ΅ λ¶€λ¨ λ…Έλ“λ¥Ό μ¶”μ ν•  μ μλ„λ΅ λ¶€λ¨ λ…Έλ“λ¥Ό stackμ— ν•¨κ» λ„£μ–΄μ£Όλ©΄ λλ‹¤. μ²« λ²μ§Έ μ›μ†λ” ν„μ¬ λ…Έλ“, λ‘ λ²μ§Έ μ›μ†λ” λ¶€λ¨ λ…Έλ“λ¥Ό λ„£μ–΄μ£Όλ©΄ λλ‹¤. λ£¨νΈ λ…Έλ“μ κ²½μ° λ¶€λ¨ λ…Έλ“κ°€ μ—†μΌλ―€λ΅ `-1`, `null`, `undefined` λ“± μ΅΄μ¬ν•  μ μ—†λ” μλ¥Ό λ„£μ–΄μ£Όμ.

```js
function dfs(graph, visited) {
  // λ£¨νΈ λ…Έλ“λ” λ¶€λ¨κ°€ μ—†μΌλ―€λ΅ -1, null, undefined λ“± μ΅΄μ¬ν•  μ μ—†λ” μλ¥Ό λ„£μ–΄μ¤€λ‹¤.
  const stack = [[0, -1]];

  while (stack.length) {
    // κµ¬μ΅° λ¶„ν•΄λ¥Ό ν†µν•΄ ν„μ¬ λ…Έλ“μ™€ λ¶€λ¨ λ…Έλ“λ¥Ό μ„ μ–Έ
    let [cur, parent] = stack.pop();

    ...

    // stack λ‹¤μ‹ pushν•΄μ¤€λ‹¤.
    stack.push([cur, parent]);

    ...

  }
}
```

λ¶€λ¨ λ…Έλ“λ¥Ό μ¶”μ ν•κ³  λ¶€λ¨ λ…Έλ“λ΅ λλμ•„κ°€λ” λ΅μ§μ„ μν–‰ν•κΈ° μ„ν•΄ μ¤νƒμ—μ„ popν•κ³  λ‹¤μ‹ pushλ¥Ό ν•΄μ£Όλ” μ‘μ—…μ„ ν•κ² λλ‹¤. μ΄λ• μ μν•  μ μ΄ pop μ΄ν›„μ— μ΄λ―Έ λ°©λ¬Έν• λ…Έλ“λ¥Ό λ°”λ΅ push ν•λ©΄ λ¬΄ν•λ£¨ν”„μ— λΉ μ§ μ μλ‹¤. λ”°λΌμ„ popκ³Ό push μ‚¬μ΄μ— μ΅°κ±΄μ„ λ„£μ–΄μ¤μ•Ό ν•λ‹¤. μ΄ λ¶€λ¶„μ΄ **κΈ°μ΅΄μ Iterative DFSμ—μ„ λΉ μ Έ μλ λ¶€λ¶„μ΄κ³  Recursive DFSμ™€ κ°™κ² λ§λ“¤μ–΄ μ£Όλ”λ° ν•„μ”ν• λ΅μ§**μ΄λ‹¤.

μ΄λ―Έ λ°©λ¬Έν• λ…Έλ“λΌλ” κ²ƒμ€ λ¦¬ν”„ λ…Έλ“μ΄κ±°λ‚ λ” μ΄μƒ νƒμƒ‰ν•  λ…Έλ“κ°€ μ—†λ” λ…Έλ“λΌλ” κ²ƒμ„ μλ―Έν•λ‹¤. λ”°λΌμ„ μ•„λ μ½”λ“μ `if (visited[cur])` μ½”λ“ λΈ”λ΅μ€ Recursive DFSμ `for`λ¬Έμ΄ μΆ…λ£λ ν›„μ— μν–‰λλ” λ¶€λ¶„κ³Ό κ°™λ‹¤.

```js
function dfs(graph, visited) {
  const stack = [[0, -1]];

  while (stack.length) {
    let [cur, parent] = stack.pop();

    if (visited[cur]) {
      // μ΄ λ¶€λ¶„μ΄ κΈ°μ΅΄μ Iterative DFSμ—μ„ λΉ μ Έ μλ λ¶€λ¶„μ΄κ³ 
      // Recursive DFSμ™€ κ°™κ² λ§λ“¤μ–΄ μ£Όλ”λ° ν•„μ”ν• λ΅μ§μ΄λ‹¤.
      continue;
    }

    stack.push([cur, parent]);
    visited[cur] = true;

    console.log(cur);

    // λ°©λ¬Έν•μ§€ μ•μ•λ λ…Έλ“λΌλ©΄ `cur`μ€ λ¶€λ¨ λ…Έλ“κ°€ λμ–΄ λ‹¤μ λ…Έλ“λ¥Ό κ³„μ† νƒμƒ‰ν•κ² λλ‹¤.
    for (const node of graph[cur]) {
      if (!visited[node]) stack.push([node, cur]);
    }
  }
}
```

<br/><br/>

**κ°μ„ λ Iterative DFS**μ λ™μ‘ κ³Όμ • κ·Έλ¦ΌμΌλ΅ ν†µν•΄ μ•μ•„λ³΄μ.

1. μ‹μ‘ λ…Έλ“μΈ `0`μ„ μ¤νƒμ— μ‚½μ…ν•λ‹¤. μ΄λ• 0μ€ λ£¨νΈ λ…Έλ“(λ¶€λ¨κ°€ μ—†λ” λ…Έλ“)μ΄λ―€λ΅ λ¶€λ¨λ…Έλ“λ” `-1`,`undefined`,`null`κ³Ό κ°™μ€ μ΅΄μ¬ν•μ§€ μ•λ” μλ¥Ό λ„£μ–΄μ¤€λ‹¤. μ΄ μμ μ—μ„λ” `-1`μ„ λ¶€λ¨ λ…Έλ“λ΅ μ‚½μ…ν•λ‹¤.

![dfs2-step1](./image/dfs2-step1.png)

<br />

2. μ¤νƒμ—μ„ `[0, -1]`μ„ μ κ±°ν•κ³  λ°©λ¬Έν• λ…Έλ“μΈμ§€ μ²΄ν¬ν•λ‹¤. λ…Έλ“ `0`μ€ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“μ΄λ―€λ΅ λ‹¤μ‹ μ¤νƒμ— μ‚½μ…ν•κ³  λ°©λ¬Έμ²λ¦¬λ¥Ό ν•λ‹¤. `0` λ…Έλ“μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ `1`, `2`, `4`λ¥Ό λ¶€λ¨ λ…Έλ“μΈ `0`κ³Ό ν•¨κ» `[1, 0]`, `[2, 0]`, `[4, 0]` ν•νƒλ΅ μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs2-step2](./image/dfs2-step2.png)

<br />

3. μ¤νƒμ μ μΌ μƒμ„μ— μλ” `[4, 0]`μ„ μ κ±°ν•κ³  λ°©λ¬Έν• λ…Έλ“μΈμ§€ μ²΄ν¬ν•λ‹¤. λ…Έλ“ `4`λ” λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“μ΄λ―€λ΅ λ‹¤μ‹ μ¤νƒ μ‚½μ…ν•κ³  λ°©λ¬Έμ²λ¦¬λ¥Ό ν•λ‹¤. `4` λ…Έλ“μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ `3`μ„ λ¶€λ¨ λ…Έλ“μΈ `4`μ™€ ν•¨κ» `[3, 4]` ν•νƒλ΅ μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs2-step3](./image/dfs2-step3.png)

<br />

4. μ¤νƒμ—μ„ `[3, 4]`λ¥Ό μ κ±°ν•κ³  λ°©λ¬Έν• λ…Έλ“μΈμ§€ μ²΄ν¬ν•λ‹¤. λ…Έλ“ `3`μ€ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“μ΄λ―€λ΅ λ‹¤μ‹ μ¤νƒμ— μ‚½μ…ν•κ³  λ°©λ¬Έμ²λ¦¬λ¥Ό ν•λ‹¤. λ…Έλ“ `3`μ μΈμ ‘ λ…Έλ“ μ¤‘μ— λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“κ°€ μ—†μΌλ―€λ΅ λ‹¤μ κ³Όμ •μ€ λ¬΄μ‹λλ‹¤.

![dfs2-step4](./image/dfs2-step4.png)

<br />

5. μ¤νƒμ—μ„ `[3, 4]`λ¥Ό μ κ±°ν•λ‹¤. λ…Έλ“ `3`μ€ λ°©λ¬Έν• λ…Έλ“μ΄λ―€λ΅ λ‹¤μ κ³Όμ •μ€ λ¬΄μ‹ν•κ³  λ‹¤μ λ°λ³µμΌλ΅ λ„μ–΄κ°„λ‹¤.

![dfs2-step5](./image/dfs2-step5.png)

<br />

6. μ¤νƒμ—μ„ `[4, 0]`λ¥Ό μ κ±°ν•λ‹¤. λ…Έλ“ `4`λ” λ°©λ¬Έν• λ…Έλ“μ΄λ―€λ΅ λ‹¤μ κ³Όμ •μ€ λ¬΄μ‹ν•κ³  λ‹¤μ λ°λ³µμΌλ΅ λ„μ–΄κ°„λ‹¤.

![dfs2-step6](./image/dfs2-step6.png)

<br />

7. μ¤νƒμ—μ„ `[2, 0]`λ¥Ό μ κ±°ν•κ³  λ°©λ¬Έν• λ…Έλ“μΈμ§€ μ²΄ν¬ν•λ‹¤. λ…Έλ“ `2`λ” λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“μ΄λ―€λ΅ λ‹¤μ‹ μ¤νƒ μ‚½μ…ν•κ³  λ°©λ¬Έμ²λ¦¬λ¥Ό ν•λ‹¤. `2` λ…Έλ“μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ `5`λ¥Ό λ¶€λ¨ λ…Έλ“μΈ `2`μ™€ ν•¨κ» `[5, 2]` ν•νƒλ΅ μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs2-step7](./image/dfs2-step7.png)

<br />

8. μ¤νƒμ—μ„ `[5, 2]`λ¥Ό μ κ±°ν•κ³  λ°©λ¬Έν• λ…Έλ“μΈμ§€ μ²΄ν¬ν•λ‹¤. λ…Έλ“ `5`λ” λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“μ΄λ―€λ΅ λ‹¤μ‹ μ¤νƒμ— μ‚½μ…ν•κ³  λ°©λ¬Έμ²λ¦¬λ¥Ό ν•λ‹¤. λ…Έλ“ `5`μ λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“ `1`μ„ λ¶€λ¨ λ…Έλ“μΈ `5`μ™€ ν•¨κ» `[1, 5]` ν•νƒλ΅ μ¤νƒμ— μ‚½μ…ν•λ‹¤.

![dfs2-step8](./image/dfs2-step8.png)

<br />

9. μ¤νƒμ—μ„ `[1, 5]`λ¥Ό μ κ±°ν•κ³  λ°©λ¬Έν• λ…Έλ“μΈμ§€ μ²΄ν¬ν•λ‹¤. λ…Έλ“ `1`μ€ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“μ΄λ―€λ΅ λ‹¤μ‹ μ¤νƒμ— μ‚½μ…ν•κ³  λ°©λ¬Έμ²λ¦¬λ¥Ό ν•λ‹¤. λ…Έλ“ `1`μ μΈμ ‘ λ…Έλ“ μ¤‘μ— λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“κ°€ μ—†μΌλ―€λ΅ λ‹¤μ κ³Όμ •μ€ λ¬΄μ‹λλ‹¤.

![dfs2-step9](./image/dfs2-step9.png)

<br />

10. λ‚λ¨Έμ§€ λ…Έλ“λ“¤μ€ λ¨λ‘ λ°©λ¬Έν• λ…Έλ“μ΄λ―€λ΅ μ¤νƒμ—μ„ ν•λ‚μ”© μ κ±°ν•κ³  λ°λ³µμ΄ μΆ…λ£λλ‹¤.

![dfs2-step10](./image/dfs2-step10.png)

<br />

# DFSμ μ‹κ°„ λ³µμ΅λ„

λ…Έλ“μ μκ°€ **$N$**μ΄κ³  κ°„μ„ μ μκ°€ **$E$**μΈ κ·Έλν”„μ—μ„ κ·Έλν”„κ°€ **μΈμ ‘ λ¦¬μ¤νΈ**λ΅ ν‘ν„λμ–΄ μλ‹¤λ©΄ **$O(N+E)$**μ΄κ³ , **μΈμ ‘ ν–‰λ ¬**λ΅ ν‘μ‹λμ–΄ μλ‹¤λ©΄ **$O(N^2)$**μ΄λ‹¤. μ΄λ” ν¬μ† κ·Έλν”„μΈ κ²½μ° DFSλ” μΈμ ‘ λ¦¬μ¤νΈμ μ‚¬μ©μ΄ μΈμ ‘ ν–‰λ ¬λ³΄λ‹¤ μ‹κ°„μ μΌλ΅ μ λ¦¬ν•¨μ„ μλ―Έν•λ‹¤.

<br />

---

# μ°Έκ³ 

- [μλ£κµ¬μ΅°-Stackμ„-μ΄μ©ν•-Iterative-DFS-κµ¬ν„](https://velog.io/@longroadhome/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-Stack%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-Iterative-DFS-%EA%B5%AC%ED%98%84#iterative-dfs-%EB%B0%A9%EB%AC%B8-%EA%B5%AC%ED%98%84)
- [μ΄κ²ƒμ΄ μ·¨μ—…μ„ μ„ν• μ½”λ”©ν…μ¤νΈλ‹¤](http://www.yes24.com/Product/Goods/91433923)
- [Cμ–Έμ–΄λ΅ μ‰½κ² ν’€μ–΄μ“΄ μλ£κµ¬μ΅°](http://www.yes24.com/Product/Goods/69750539)
- [Depth First Search (DFS) β€“ Iterative and Recursive Implementation](https://techiedelight.com/depth-first-search/)
