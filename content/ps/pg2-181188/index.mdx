---
title: '[프로그래머스] 요격 시스템 (JavaScript)'
category: ps
date: 2023-04-20
tags:
  - 프로그래머스
  - lv2
  - 그리디
---

# 문제

[코딩테스트 연습 - 요격 시스템](https://school.programmers.co.kr/learn/courses/30/lessons/181188)

### 문제 설명

A 나라가 B 나라를 침공하였습니다. B 나라의 대부분의 전략 자원은 아이기스 군사 기지에 집중되어 있기 때문에 A 나라는 B 나라의 아이기스 군사 기지에 융단폭격을 가했습니다.
A 나라의 공격에 대항하여 아이기스 군사 기지에서는 무수히 쏟아지는 폭격 미사일들을 요격하려고 합니다. 이곳에는 백발백중을 자랑하는 요격 시스템이 있지만 운용 비용이 상당하기 때문에 미사일을 최소로 사용해서 모든 폭격 미사일을 요격하려 합니다.
A 나라와 B 나라가 싸우고 있는 이 세계는 2 차원 공간으로 이루어져 있습니다. A 나라가 발사한 폭격 미사일은 x 축에 평행한 직선 형태의 모양이며 개구간을 나타내는 정수 쌍 (s, e) 형태로 표현됩니다. B 나라는 특정 x 좌표에서 y 축에 수평이 되도록 미사일을 발사하며, 발사된 미사일은 해당 x 좌표에 걸쳐있는 모든 폭격 미사일을 관통하여 한 번에 요격할 수 있습니다. 단, 개구간 (s, e)로 표현되는 폭격 미사일은 s와 e에서 발사하는 요격 미사일로는 요격할 수 없습니다. 요격 미사일은 실수인 x 좌표에서도 발사할 수 있습니다.
각 폭격 미사일의 x 좌표 범위 목록 `targets`이 매개변수로 주어질 때, 모든 폭격 미사일을 요격하기 위해 필요한 요격 미사일 수의 최솟값을 return 하도록 solution 함수를 완성해 주세요.

### 제한사항

- 1 ≤ `targets`의 길이 ≤ 500,000
- targets의 각 행은 [s,e] 형태입니다.
  - 이는 한 폭격 미사일의 x 좌표 범위를 나타내며, 개구간 (s, e)에서 요격해야 합니다.
  - 0 ≤ s < e ≤ 100,000,000

### 입출력 예

| targets                                          | result |
| ------------------------------------------------ | ------ |
| [[4,5],[4,8],[10,14],[11,13],[5,12],[3,7],[1,4]] | 3      |

### 문제 설명

`targets` 배열에서 모든 폭격 미사일을 요격하기 위해 필요한 요격 미사일 수의 **최솟값**을 구하는 문제다.

x 좌표를 기준으로 내림차순 정렬한 후, x좌표가 큰 값부터 비교하면서 처리하면 된다. 따라서 이 문제는 **그리디 알고리즘**을 사용하여 풀 수 있다.

각 과정을 자세하게 살펴보자.

먼저, `targets` 배열을 x 좌표를 기준으로 내림차순 정렬한다. <br/>
내림차순으로 정렬하는 이유는 x좌표를 기준으로 정렬하기 때문에 x좌표가 높은 미사일부터 순서대로 처리할 수 있기 때문이다. 만약 오름차순으로 정렬한다면 x좌표가 낮은 미사일부터 순서대로 처리해야 하기 때문에 불필요한 연산이 발생할 수 있다.

```js
targets.sort((a, b) => b[0] - a[0]);
```

checkPoint 변수에 targets 배열의 첫 번째 요소의 시작 x좌표를 할당한다. <br/>
checkPoint 변수는 가장 오른쪽에 있는 미사일부터 차례대로 요격하기 위해 시작 x좌표를 할당한다.

```js
// 첫 번째 폭격 미사일의 시작 지점을 체크 포인트로 설정한다.
let checkPoint = targets[0][0];
```

두 번째 폭격 미사일부터 시작하여 순회한다.

```js
// targets 배열을 순회하며 각 폭격 미사일의 시작 지점과 종료 지점을 확인한다.
for (let i = 1; i < targets.length; i++) {
  const [start, end] = targets[i];
}
```

`checkPoint`가 현재 탐색 중인 미사일의 끝점(`end`)보다 크거나 같다면, 현재 미사일을 요격할 수 있는 미사일을 발사하여 `checkPoint`를 업데이트하고, 요격 미사일의 수(`answer`)를 1 증가시킨다.

```js
// 만약 checkPoint가 폭격 미사일의 종료 지점보다 작거나 같다면,
// 현재 checkPoint에서는 해당 폭격 미사일을 요격할 수 없으므로
if (end <= checkPoint) {
  // 새로운 요격 미사일이 필요하므로 시작 지점을 체크 포인트로 업데이트하고,
  checkPoint = start;
  // 요격 미사일 수를 증가시킨다.
  answer++;
}
```

# 코드

```js
function solution(targets) {
  targets.sort((a, b) => b[0] - a[0]);

  let answer = 1;
  let checkPoint = targets[0][0];

  for (let i = 1; i < targets.length; i++) {
    const [start, end] = targets[i];

    if (end <= checkPoint) {
      checkPoint = start;
      answer++;
    }
  }

  return answer;
}
```
